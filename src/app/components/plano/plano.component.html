@if (carregando) {
    <div>Carregando planos...</div>
}

<div class="page-background">

    <p-card styleClass="table-card" header="Cadastrar novo plano">
        <form [formGroup]="formCadastroPlano" (ngSubmit)="onSubmit()" class="form-container">
            <input type="hidden" id="formCdPlano" />
            <div class="form-item">
                <p-floatlabel variant="on">
                    <input pInputText id="formDescricao" name="descricao" autocomplete="off" class="form-input">
                    <label for="formDescricao">Descrição</label>
                </p-floatlabel>
            </div>
            <div class="form-item checkbox-item">
                <p-checkbox binary="true"  name="ativo" [ngModel]="true" inputId="formAtivo"></p-checkbox>
                <label for="ativo">Ativo</label>
            </div>
            <div class="form-item">
                <button pButton type="submit" label="Salvar"></button>
            </div>
        </form>
    </p-card>


    <p-card class="table-card">
        <p-table
        [value]="planos"
        [paginator]="true"
        [rows]="20"
        [rowsPerPageOptions]="[20, 30, 40]"
        responsiveLayout="scroll">

            <ng-template pTemplate="header">
                <tr>
                    <th>Código</th>
                    <th>Descrição</th>
                    <th>Ativo</th>
                </tr>
            </ng-template>

            <ng-template pTemplate="body" let-plano>
                <tr>
                    <td>{{ plano.idPlano }}</td>
                    <td>{{ plano.descricao }}</td>
                    <td>
                        <p-checkbox [(ngModel)]="plano.ativo" [binary]="true" inputId="ativo" disabled="true"/>
                    </td>
                </tr>
            </ng-template>
        </p-table>
    </p-card>
</div>
